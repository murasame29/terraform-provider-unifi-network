---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "unifi_dns_policy Resource - unifi"
subcategory: ""
description: |-
  Manages a UniFi DNS policy (local DNS record).
---

# unifi_dns_policy (Resource)

Manages a UniFi DNS policy (local DNS record).

## Example Usage

```terraform
# Basic DNS policy with A record
resource "unifi_dns_policy" "a_record" {
  site_id     = "default"
  name        = "Internal Server"
  description = "A record for internal server"
  enabled     = true

  record = {
    type = "A"
    a = {
      hostname   = "server.local"
      ip_address = "192.168.1.100"
      ttl        = 3600
    }
  }
}

# DNS policy with AAAA record (IPv6)
resource "unifi_dns_policy" "aaaa_record" {
  site_id     = "default"
  name        = "IPv6 Server"
  description = "AAAA record for IPv6 server"
  enabled     = true

  record = {
    type = "AAAA"
    aaaa = {
      hostname     = "server6.local"
      ipv6_address = "2001:db8::100"
      ttl          = 3600
    }
  }
}

# DNS policy with CNAME record
resource "unifi_dns_policy" "cname_record" {
  site_id     = "default"
  name        = "Alias Record"
  description = "CNAME alias for server"
  enabled     = true

  record = {
    type = "CNAME"
    cname = {
      hostname = "www.local"
      target   = "server.local"
      ttl      = 3600
    }
  }
}

# DNS policy with MX record
resource "unifi_dns_policy" "mx_record" {
  site_id     = "default"
  name        = "Mail Server"
  description = "MX record for mail server"
  enabled     = true

  record = {
    type = "MX"
    mx = {
      hostname    = "example.local"
      mail_server = "mail.example.local"
      priority    = 10
      ttl         = 3600
    }
  }
}

# DNS policy with TXT record
resource "unifi_dns_policy" "txt_record" {
  site_id     = "default"
  name        = "SPF Record"
  description = "TXT record for SPF"
  enabled     = true

  record = {
    type = "TXT"
    txt = {
      hostname = "example.local"
      text     = "v=spf1 include:_spf.google.com ~all"
      ttl      = 3600
    }
  }
}

# DNS policy with SRV record
resource "unifi_dns_policy" "srv_record" {
  site_id     = "default"
  name        = "SIP Service"
  description = "SRV record for SIP service"
  enabled     = true

  record = {
    type = "SRV"
    srv = {
      service  = "_sip"
      protocol = "_tcp"
      hostname = "example.local"
      target   = "sipserver.example.local"
      port     = 5060
      priority = 10
      weight   = 100
      ttl      = 3600
    }
  }
}

# DNS policy with PTR record (reverse DNS)
resource "unifi_dns_policy" "ptr_record" {
  site_id     = "default"
  name        = "Reverse DNS"
  description = "PTR record for reverse lookup"
  enabled     = true

  record = {
    type = "PTR"
    ptr = {
      ip_address = "192.168.1.100"
      hostname   = "server.local"
      ttl        = 3600
    }
  }
}

# Multiple A records for load balancing
resource "unifi_dns_policy" "lb_server1" {
  site_id     = "default"
  name        = "LB Server 1"
  description = "Load balanced server 1"
  enabled     = true

  record = {
    type = "A"
    a = {
      hostname   = "app.local"
      ip_address = "192.168.1.101"
      ttl        = 300
    }
  }
}

resource "unifi_dns_policy" "lb_server2" {
  site_id     = "default"
  name        = "LB Server 2"
  description = "Load balanced server 2"
  enabled     = true

  record = {
    type = "A"
    a = {
      hostname   = "app.local"
      ip_address = "192.168.1.102"
      ttl        = 300
    }
  }
}

# LDAP SRV record for Active Directory
resource "unifi_dns_policy" "ldap_srv" {
  site_id     = "default"
  name        = "LDAP Service"
  description = "SRV record for LDAP"
  enabled     = true

  record = {
    type = "SRV"
    srv = {
      service  = "_ldap"
      protocol = "_tcp"
      hostname = "dc._msdcs.example.local"
      target   = "dc1.example.local"
      port     = 389
      priority = 0
      weight   = 100
      ttl      = 600
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `site_id` (String) The site ID.
- `type` (String) The DNS record type (A, AAAA, CNAME, MX, TXT, SRV, PTR).

### Optional

- `domain` (String) The domain name.
- `enabled` (Boolean) Whether the policy is enabled. Defaults to `true`.
- `ip_address` (String) The IP address (for PTR records).
- `ipv4_address` (String) The IPv4 address (for A records).
- `ipv6_address` (String) The IPv6 address (for AAAA records).
- `mail_server_domain` (String) The mail server domain (for MX records).
- `port` (Number) The port number (for SRV records).
- `priority` (Number) The priority (for MX and SRV records).
- `protocol` (String) The protocol (for SRV records, e.g., _tcp, _udp).
- `server_domain` (String) The server domain (for SRV records).
- `service` (String) The service name (for SRV records, e.g., _sip).
- `target_domain` (String) The target domain (for CNAME records).
- `text` (String) The text content (for TXT records).
- `ttl_seconds` (Number) The TTL in seconds.
- `weight` (Number) The weight (for SRV records).

### Read-Only

- `id` (String) The unique identifier.
